<!DOCTYPE html>
<title>Game Summary</title>
<header>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="styleGameSetup.css" />
</header>

<style>
	h3 
	{
		margin-top:5%;
		color:burlywood;
	}

	.positive
	{
		color:lawngreen;
	}

	.negative 
	{
		color:red;
	}

	h3, .positive, .negative 
	{
		text-align:center;
	}

</style>

<html lang="no-EN">
<body onload="OnPageLoaded()">
	<div style="height:15%; width: 0px"></div>
	<hr />
	<br />
	<div class="content background">
		<div class="header">
			<h1 id="header">Game Lost</h1>
		</div>
		<div class="mainContent">
			<h1 id="motivational"style="margin-top:0">Better luck next time!</h1>
			<h3>Time spent</h3>
			<div id="timePassed"></div>
			<h3>Movement Amount</h3>
			<div id="moveUsed"></div>
			<h3>Used random numbers</h3>
			<div id="usedRandomNumbers"></div>
		</div>
		<div class="footer">
				<div class="buttonContainer" style="float:left;">
					<button onclick="NewGame();">New Game</button>
				</div>
				<div class="buttonContainer"style="float:right;">
					<button onclick="Restart();">Try Again</button>
				</div>
		</div>
	</div>
	<br />
	<hr />
</body>
</html>

<script>

	var positiveMessages = ["You did it!", "Great Job!", "You're the best!", "I cant belive you did it!"];
	var negativeMessages = ["We cant all be winners.", "Take a break!", "Better luck next time!", "I just dont know what to say."];

	function OnPageLoaded()
	{
		// Fetch session data.
		var timeResult = window.sessionStorage.getItem('timeResult');
		var moveResult = window.sessionStorage.getItem('moveResult');
		var gameResult = window.sessionStorage.getItem('gameResult');
		var usedRandom = window.sessionStorage.getItem('randomLimit');

		// Setup negative/postive colors.
		var classToUse = (gameResult == "true") ? 'positive' : 'negative';

		// Get elements
		var timeElement = document.getElementById('timePassed');
		var moveElement = document.getElementById('moveUsed');
		var randomElement = document.getElementById('usedRandomNumbers');
		var motivationalElement = document.getElementById('motivational');

		// Set style
		timeElement.classList.add(classToUse);
		moveElement.classList.add(classToUse);
		randomElement.classList.add(classToUse);
		motivationalElement.classList.add(classToUse);

		// Set values
		timeElement.innerText = timeResult;
		moveElement.innerText = moveResult;
		randomElement.innerText = (usedRandom == true) ? 'Yes' : 'No';

		// Set motivational text.
		var arrayToUse = (gameResult == 'true') ? positiveMessages : negativeMessages;
		document.getElementById('motivational').innerText = arrayToUse[Math.floor(Math.random() * arrayToUse.length)];

		// Set heading
		document.getElementById('header').innerText = (gameResult == 'true') ? 'Game Won!' : 'Game Lost!';
	}


	function Restart()
	{
		window.location.href = "https://madsget.github.io/intro_oppgave/Game.html";
	}

	function NewGame()
	{
		window.sessionStorage.clear();
		window.location.href = "https://madsget.github.io/intro_oppgave/GameSetup.html";
	}

</script>